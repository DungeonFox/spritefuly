:root{
    --bg:#0b0d10; --panel:#12161c; --panel2:#0f1318; --text:#e8eef7; --muted:#9aa7b6;
    --accent:#5dd6c1; --warn:#ffcc66; --bad:#ff6b6b; --good:#6bff95; --line:#233040;
    --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font-family:var(--sans); background:var(--bg); color:var(--text);
    display:flex; flex-direction:column;
  }
  header{
    padding:10px 12px; border-bottom:1px solid var(--line);
    display:flex; gap:12px; align-items:center; flex-wrap:wrap;
    background:linear-gradient(180deg, #0c1016, #0b0d10);
  }
  header .title{font-weight:700; letter-spacing:.2px}
  header .pill{
    font-family:var(--mono); font-size:12px; color:var(--muted);
    padding:3px 8px; border:1px solid var(--line); border-radius:999px; background:rgba(255,255,255,0.02);
  }
  header .spacer{flex:1}
  button, input[type="file"], select, input[type="number"], input[type="text"]{
    font:inherit;
  }
  button{
    background:#16202b; color:var(--text); border:1px solid var(--line);
    padding:7px 10px; border-radius:8px; cursor:pointer;
  }
  button:hover{border-color:#36506c}
  button.primary{background:rgba(93,214,193,0.14); border-color:rgba(93,214,193,0.45)}
  button.danger{background:rgba(255,107,107,0.12); border-color:rgba(255,107,107,0.5)}
  button:disabled{opacity:.5; cursor:not-allowed}
  label{color:var(--muted); font-size:12px}
  .row{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
  .main{
    flex:1; display:grid; grid-template-columns: 1.1fr 1fr 380px; gap:10px;
    padding:10px;
    min-height:0;
  }
  .panel{
    background:var(--panel); border:1px solid var(--line); border-radius:12px;
    display:flex; flex-direction:column; min-height:0;
  }
  .panel h2{
    margin:0; padding:10px 10px 8px; font-size:13px; letter-spacing:.3px;
    border-bottom:1px solid var(--line); color:#cfe6ff;
    display:flex; align-items:center; justify-content:space-between; gap:10px;
  }
  .panel h2 .mini{font-size:11px; color:var(--muted); font-family:var(--mono)}
  .panel .content{padding:10px; overflow:auto; min-height:0}
  .grid2{display:grid; grid-template-columns: 1fr 1fr; gap:10px}
  .grid3{display:grid; grid-template-columns: 1fr 1fr 1fr; gap:10px}
  .field{
    display:flex; flex-direction:column; gap:5px;
    padding:8px; background:var(--panel2); border:1px solid var(--line); border-radius:10px;
  }
  .field.inline{flex-direction:row; align-items:center; justify-content:space-between}
  .field input[type="number"], .field input[type="text"], .field select, textarea{
    background:#0c1016; border:1px solid #263245; color:var(--text);
    padding:7px 8px; border-radius:8px; outline:none;
  }
  .field input[type="number"]{width:100%}
  textarea{
    width:100%; min-height:160px; resize:vertical; font-family:var(--mono); font-size:12px; line-height:1.35;
  }
  .list{
    border:1px solid var(--line); border-radius:10px; overflow:hidden; background:#0c1016;
  }
  .list .head, .list .item{
    display:grid; gap:8px; align-items:center;
    padding:8px 10px;
    border-bottom:1px solid rgba(35,48,64,0.7);
  }
  .list .head{background:#0e131a; color:var(--muted); font-size:11px}
  .list .item{font-size:12px}
  .list .item:last-child{border-bottom:none}
  .mono{font-family:var(--mono)}
  .muted{color:var(--muted)}
  .badge{
    display:inline-block; padding:2px 6px; border-radius:999px;
    border:1px solid var(--line); background:rgba(255,255,255,0.02);
    font-size:11px; color:var(--muted); font-family:var(--mono);
  }
  .kbar{
    display:flex; gap:8px; flex-wrap:wrap; align-items:center;
  }
  .kbar .toggle{
    display:flex; gap:8px; align-items:center; padding:6px 8px; border:1px solid var(--line);
    border-radius:10px; background:rgba(255,255,255,0.02);
  }
  .kbar input[type="checkbox"]{transform:translateY(1px)}
  canvas{
    width:100%; height:auto; background:#0a0d12;
    border:1px solid var(--line); border-radius:10px;
  }
  .log{
    font-family:var(--mono); font-size:12px; white-space:pre-wrap;
    color:#c6d2e3; background:#0c1016; border:1px solid var(--line); border-radius:10px;
    padding:10px; min-height:90px;
  }
  .hr{height:1px; background:var(--line); margin:10px 0}
  .small{font-size:11px}
  .rightStack{display:flex; flex-direction:column; gap:10px}